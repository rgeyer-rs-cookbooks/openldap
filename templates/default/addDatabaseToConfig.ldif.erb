dn: olcDatabase={1}<%= @db_type %>,cn=config
objectClass: olcDatabaseConfig
objectClass: olc<%= @db_type %>Config
olcDatabase: {1}<%= @db_type %>
olcDbDirectory: <%= node[:openldap][:db_dir] %>
olcSuffix: <%= @olc_suffix %>
olcRootDN: <%= @admin_dn %>
olcRootPw: <%= @admin_password %>
olcDbConfig: {0}set_cachesize <%= @cache_size %>
olcDbConfig: {1}set_lk_max_objects <%= @max_objects %>
olcDbConfig: {2}set_lk_max_locks <%= @max_locks %>
olcDbConfig: {3}set_lk_max_lockers <%= @max_lockers %>
olcLastMod: TRUE
olcDbCheckpoint: <%= @checkpoint %>
olcDbIndex: uid pres,eq
olcDbIndex: cn,sn,mail pres,eq,approx,sub
olcDbIndex: objectClass eq

<% if @olc_suffix -%>
dn: <%= @olc_suffix %>
objectClass: domain

<% end %>